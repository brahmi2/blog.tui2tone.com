angular.module("app",["ngAnimate","ngCookies","ngSanitize","ngMaterial","duScroll","ui.router","ui.bootstrap","infinite-scroll","720kb.socialshare"]);
angular.module("app").config(["$stateProvider","$urlRouterProvider","$locationProvider",function(t,e,r){return r.html5Mode({enabled:!0}),t.state("main",{url:"/",controller:"MainController",controllerAs:"main","abstract":!0,templateProvider:["$templateCache",function(t){return t.get("main/main.html")}]}).state("main.all_posts",{url:"?page",controller:"MainPostController",controllerAs:"mp",params:{category:{value:null}},templateProvider:["$templateCache",function(t){return t.get("main/posts.html")}]}).state("main.posts",{url:"tag/:category?page",controller:"MainPostController",controllerAs:"mp",params:{category:{value:null}},templateProvider:["$templateCache",function(t){return t.get("main/posts.html")}]}).state("post",{url:"/{year:[0-9]{4}}/{month:[0-9]{2}}/:slug/{id:[0-9]*}/",controller:"PostController",controllerAs:"post",templateProvider:["$templateCache",function(t){return t.get("post/main.html")}],resolve:{post:["Post","$stateParams",function(t,e){return t.getPost(e.id)}]}}).state("preview",{url:"/post/preview/:p",controller:"PostController",controllerAs:"post",templateProvider:["$templateCache",function(t){return t.get("post/main.html")}],resolve:{post:["Post","$stateParams",function(t,e){return t.getPost(e.p)}]}}),e.otherwise("/")}]);
angular.module("app").run(["$rootScope","$state","$stateParams","$location","$window",function(a,n,o,e,t){a.$state=n,a.$stateParams=o,a.config=angular.copy($config),a.WPAPI=WPAPI,a.api_nonce=WPAPI.api_nonce,a.WP_SETTING=WP_SETTING||{},console.log(WPAPI),a.$on("$stateChangeSuccess",function(a){t.ga&&t.ga("send","pageview",{page:e.path()})})}]);
angular.module("app").run(["$templateCache",function(a){a.put("footer/footer.html",'<footer class="footer">\n  <div class="container">\n    <div class="row">\n      <div class="col-md-6">\n        <div class="author">\n          <img class="profile" src="{{config.image_url}}profile.jpg" />\n          <div class="title">\n            <div class="name">Charuwit Nodthaisong</div>\n            <div class="subtitle">Web Developer</div>\n            <div class="social">\n              <a href="https://twitter.com/tui2tone" target="_blank"><i class="icon ion-social-twitter"></i></a>\n              <a href="https://th.linkedin.com/in/tui2tone" target="_blank"><i class="icon ion-social-linkedin"></i></a>\n              <a href="https://github.com/tui2tone" target="_blank"><i class="icon ion-social-github"></i></a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</footer>\n'),a.put("main/main.html","<div class=\"jumbotron app-header\" ng-style=\"{'background-image': 'url(' + config.image_url + 'header_bg.jpg)' }\">\n</div>\n<div class=\"blog-list-container container\" ui-view>\n</div>\n"),a.put("main/posts.html",'<div infinite-scroll="mp.loadData()">\n  <div class="row">\n    <div class="col-sm-12 col-md-9">\n      <div class="blog-list">\n        <div class="blog animated fadeInUp" ng-repeat="post in mp.posts">\n          <div class="thumbnail-min">\n            <div class="thumbnail" ng-style="{\'background-color\': post.meta.post_bg_color || \'#CCC\' }"><img ng-src="{{post.meta.post_thumbnail}}"/></div>\n            <div class="title">\n              <a href="{{post.date | date: \'yyyy\'}}/{{post.date | date: \'MM\'}}/{{post.slug}}/{{post.ID}}/" style="animation-delay: {{post.delay}}s">\n                <h4 ng-style="{\'color\': post.meta.post_title_color || \'#CCC\' }">{{post.title}}</h4>\n                <p>{{post.excerpt}}</p>\n                <p class="text-right readmore">Read More..</p>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="col-xs-3 hidden-sm hidden-xs">\n      <div class="sidebar">\n        <div class="sizebar-block">\n          <ul class="blog-categories" ng-init="main.selected_category = mp.selected_category">\n            <li ng-class="{active: main.selected_category == \'All\'}">\n              <a href="/">All</a>\n            </li>\n            <li ng-class="{active: main.selected_category == category.slug}" ng-repeat="category in main.categories">\n              <a href="/tag/{{category.slug}}">{{category.name}}</a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-9">\n      <div class="post-loading animated fadeInDown" ng-show="mp.loading">\n        <i class="icon ion-load-c spin"></i>\n        <br>\n        Loading..\n      </div>\n    </div>\n  </div>\n</div>\n'),a.put("navbar/navbar.html",'<nav class="navbar navbar-affix navbar-default" role="navigation" data-spy="affix" data-offset-top="60">\n  <div class="container">\n    <div class="navbar-header">\n      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">\n        <span class="sr-only">Toggle navigation</span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n      </button>\n      <a class="navbar-brand" href="http://th.tui2tone.com/blog/">\n        <img src="{{config.image_url}}logo.png" />\n      </a>\n    </div>\n    <div id="navbar" class="collapse navbar-collapse navbar-right">\n      <ul class="nav navbar-nav">\n        <li>\n          <button type="button" class="navbar-close visible-xs" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">\n            <i class="icon ion-close-round"></i>\n          </button>\n        </li>\n        <li class="active"><a href="http://th.tui2tone.com/blog/">Blog</a></li>\n        <li><a href="#">Templates</a></li>\n        <li><a href="#">About Me</a></li>\n      </ul>\n    </div>\n  </div>\n</nav>\n<div class="loading-progress animated fadeInDown" loading-bar>\n  <i class="icon ion-record"></i>\n  <md-progress-circular class="md-hue-2" md-mode="indeterminate"></md-progress-circular>\n</div>\n'),a.put("post/main.html",'<div class="jumbotro post-header"\n  ng-style="post.data.meta.is_img_header == \'true\' && {\'background-image\': \'url(\' + post.data.featured_image.source + \')\'} ||\n            post.data.meta.is_img_header == \'false\' && {\'background-color\': post.data.meta.post_bg_color || \'#CCC\' }">\n    <div class="post-title  animated fadeInUp">\n      <h3 ng-style="{\'color\': post.data.meta.post_header_color }">{{post.data.meta.title}}</h3>\n      <h4 ng-style="{\'color\': post.data.meta.post_sub_header_color }">{{post.data.meta.subtitle}}</h4>\n      <p class="post-date" ng-style="{\'color\': post.data.meta.post_sub_header_color }">{{post.data.date | date: "dd MMM yyyy"}}</p>\n    </div>\n</div>\n<div class="container">\n  <div class="post-container">\n    <div class="post-content animated fadeInUp" compile="post.data.content">\n\n    </div>\n    <div class="post-share-container">\n      <h4>Social Share</h4>\n      <div class="post-share"><a href="#"\n        class="facebook"\n        socialshare\n        socialshare-provider="facebook"\n        socialshare-text="{{post.data.title}}"\n        socialshare-url="{{post.current_url}}"\n        >\n          <i class="icon ion-social-facebook"></i>\n          <div>Share</div>\n        </a>\n        <a href="#"\n          class="twitter"\n          socialshare\n          socialshare-provider="twitter"\n          socialshare-text="{{post.data.title}}"\n          socialshare-url="{{post.current_url}}"\n          >\n            <i class="icon ion-social-twitter"></i>\n            <div>Share</div>\n          </a>\n      </div>\n    </div>\n  </div>\n</div>\n')}]);
angular.module("app").factory("Category",["$http","$q","$rootScope",function(r,e,t){var o;return o=function(){var o;return o=e.defer(),r.get(t.WPAPI.api_url+"/taxonomies/category/terms").success(function(r){return o.resolve(r)}).error(function(){return o.reject("Cannot load categories")}),o.promise},{getCategories:o}}]);
angular.module("app").factory("Post",["$http","$q","$rootScope",function(r,e,o){var t,n;return n=function(t){var n,s;return n=e.defer(),s=[],angular.forEach(t,function(r,e){return"page"===e?s.push(e+"="+r):s.push("filter["+e+"]="+r)}),console.log(o.WPAPI.api_url),r.get(o.WPAPI.api_url+"/posts?"+s.join("&")).success(function(r){return n.resolve(r)}).error(function(){return n.reject("Cannot load posts")}),n.promise},t=function(t){var n;return n=e.defer(),r.get(o.WPAPI.api_url+"/posts/"+t,{headers:{"X-WP-Nonce":o.api_nonce}}).success(function(r){return n.resolve(r)}).error(function(){return n.reject("Cannot load posts")}),n.promise},{getPosts:n,getPost:t}}]);
angular.module("app").controller("MainController",["Post","Category","$rootScope",function(e,t,r){var o;return r.WP_SETTING.SITE_TITLE=r.WP_SETTING.TITLE+" : "+r.WP_SETTING.DESCRIPTION,r.WP_SETTING.SITE_THUMBNAIL="",o=this,o.selected_category="All",o.categories=[],o.loading=!1,o.getCategories=function(){return t.getCategories().then(function(e){return o.categories=e})},o.init=function(){return o.getCategories()},o.init(),o}]);
angular.module("app").directive("loadingBar",["$http",function(n){return{restrict:"A",link:function(t,i,r){t.isLoading=function(){return n.pendingRequests.length>0},t.$watch(t.isLoading,function(n){n?i.show():i.hide()})}}}]).directive("titleTag",["$rootScope",function(n){return{restrict:"A",link:function(t,i,r){return t.$watch(function(){return n.WP_SETTING.SITE_TITLE},function(n){return angular.isUndefined(n)?void 0:i.html(n)})}}}]).directive("metaDescription",["$rootScope",function(n){return{restrict:"A",link:function(t,i,r){return t.$watch(function(){return n.WP_SETTING.SITE_DESCRIPTION},function(n){return angular.isUndefined(n)?void 0:i.html(n)})}}}]);
angular.module("app").controller("MainPostController",["Post","Category","$state","$stateParams",function(e,a,t,g){var o;return o=this,o.selected_category=g.category||"All",o.paging={page:g.page||1,loaded:!1},o.posts=[],o.loading=!1,o.getPosts=function(){var a;return o.loading=!0,a={},a.order="DESC",a.orderby="date",a.posts_per_page=10,"All"!==o.selected_category&&(a.category_name=o.selected_category),a.page=o.paging.page,e.getPosts(a).then(function(e){return console.log(e),o.loadingData(e),o.loading=!1})},o.loadingData=function(e){var a,g;return 0===e.length&&(o.paging.loaded=!0,o.paging.page--),g={},"All"!==o.selected_category&&(g.category=o.selected_category),o.paging.page>1&&(g.page=o.paging.page),t.go(t.current,g,{notify:!1}),a=0,angular.forEach(e,function(e){return e.delay=a,o.posts.push(e),a+=.1})},o.loadData=function(){return o.paging.loaded||o.loading?void 0:(o.paging.page++,o.getPosts())},o.init=function(){return o.getPosts()},o.init(),o}]);
angular.module("app").controller("PostController",["post","$document","$rootScope","$window","$http",function(t,o,r,e,n){var a;return r.WP_SETTING.SITE_TITLE=t.title+" "+t.excerpt+" : "+r.WP_SETTING.TITLE,r.WP_SETTING.SITE_THUMBNAIL=t.featured_image,a=this,a.data=t,a.current_url=e.location.href,a.shareCount={facebook:0,twitter:0},console.log(a.data),a.scrollTop=function(){return o.scrollTopAnimated(0,500)},a.init=function(){return a.getShareCount(),a.scrollTop()},a.getShareCount=function(){return n.get("https://api.facebook.com/method/links.getStats",{params:{urls:a.current_url,format:"json"}}).then(function(t){return t.data.length>0?a.shareCount.facebook=t.data[0].share_count:void 0})},a.init(),a}]);
angular.module("app").directive("ngHighLight",function(){return{restrict:"C",link:function(n,t,e){return""===t[0].textContent.trim()?t.remove():hljs.highlightBlock(t[0])}}}),angular.module("app").directive("compile",["$compile",function(n){return function(t,e,i){t.$watch(function(n){return n.$eval(i.compile)},function(i){e.html(i),n(e.contents())(t)})}}]),angular.module("app").filter("capitalize",function(){return function(n){return n}});